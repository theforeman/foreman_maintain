module Checks
  module Report
    class CheckTemplate < ForemanMaintain::Check
      metadata do
        description 'One sentence description'
        tags :report
      end

      def run
        # make sure to populate data with the hash, that will be merged into the result set
        self.data = { template: 5 }

        # SQL example
        # count = feature(:foreman_database).query("SELECT COUNT(*) FROM hosts WHERE managed = true AND created_at >= current_date - interval '3 months'")
        # result = count.first['count'].to_i
        # self.data = result
      end
    end
  end
end
